---
import { getCollection } from "astro:content";
import Section from "./Section.astro";
interface Props {
    featuredOnly?: boolean;
    title?: string;
}
const { title, featuredOnly } = Astro.props;
const articleCollection = await getCollection('article', (article => {
    return (featuredOnly ? article.data.featured : true) &&
    article.data.draft != true; // If (featuredOnly = true) only include featured articles.
}));
---

<Section title={title}>
    <ul class="lg:ps-0">
        {articleCollection.map(article => (
            <li class="my-8 lg:my-8 lg:ps-0">
                <time datetime={article.data.publishDate.toISOString()}>{article.data.publishDate.toLocaleDateString('en-us', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric',
                })}</time>
                <h3 class="text-2xl lg:my-0 leading-10"><a href={'articles/' + article.slug}>{article.data.title}</a></h2>
            </li>
    ))}
    </ul>
</Section>